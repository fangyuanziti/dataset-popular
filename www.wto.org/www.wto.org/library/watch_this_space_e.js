//***********************************************************************
//* APPLICATION	: WTO Web Site
//* COMPONENT	: 
//* PAGE		: 
//* CREATION	: 03/11/2005
//* AUTHOR		: Jane M Pickett
//* CONTENT		: Data and functions for watch this space - English
//*		
//***********************************************************************
//* UPDATES		:
//*
//***********************************************************************
var wts_array = new Array();  // array for items to appear in watch this space
	
	wts_array[wts_array.length] =  [
					 "<a class=\"parasmallcolourtext\" href=\"http://icd.wto.org/member/register.aspx?l=e\"><img border=\"0\" src=\"/images/img_logos/email.gif\" width=\"14\" height=\"14\"></a> <a href=\"http://icd.wto.org/member/register.aspx?l=e\" class=\"parasmallcolourtext\">Email updates</a>",  // display text
					 "",  // link relative to root
					 0, // language text array index
					 "",  // ??&nbsp;pages; ??KB; for document
					 "",  // link to an image relative to root
					"email",  // item type eg email, feature, new
					 ""  // caption for photo
					];  // end of array
	wts_array[wts_array.length] =  [
					 "<a onMouseOver=\"writetxt('Facebook')\" onMouseOut=\"writetxt(0)\" href=\"http://www.facebook.com/worldtradeorganization\"><img border=\"0\" src=\"/images/img_logos/facebook_small.gif\" width=\"14\" height=\"14\"></a>&nbsp;&nbsp;&nbsp;<a href=\"http://twitter.com/WTO\" onMouseOver=\"writetxt('Twitter')\" onMouseOut=\"writetxt(0)\"><img border=\"0\" src=\"/images/img_logos/twitter_small.gif\" width=\"12\" height=\"15\"></a>&nbsp;&nbsp;&nbsp;<a href=\"http://www.youtube.com/user/WTO\" onMouseOver=\"writetxt('Youtube')\" onMouseOut=\"writetxt(0)\"><img border=\"0\" src=\"/images/img_logos/youtube_small.gif\" width=\"14\" height=\"18\"></a>&nbsp;&nbsp;&nbsp;<a href=\"http://www.flickr.com/photos/world_trade_organization\" onMouseOver=\"writetxt('Flikr')\" onMouseOut=\"writetxt(0)\"><img src=\"/images/img_logos/flickr_small2.gif\" border=\"0\" align=\"baseline\" width=\"14\" height=\"13\"></a>&nbsp;&nbsp;&nbsp; <a href=\"/english/res_e/webcas_e/rss_e.htm\" onMouseOver=\"writetxt('RSS news feeds')\" onMouseOut=\"writetxt(0)\"><img src=\"/images/img_webcast/rss.gif\" border=\"0\" align=\"baseline\" width=\"12\" height=\"11\"></a>",  // display text
					 "",  // link relative to root
					 0, // language text array index
					 "",  // ??&nbsp;pages; ??KB; for document
					 "",  // link to an image relative to root
					"email",  // item type eg email, feature, new
					 ""  // caption for photo
					];  // end of array


	
//	wts_array[wts_array.length] =  [
//					 "<b>Updated pages:</b> Government procurement",  // display text
//					 "/english/tratop_e/gproc_e/gproc_e.htm",  // link relative to root
//					 0, // language text array index
//					 "",  // ??&nbsp;pages; ??KB; for document
//					 "",  // link to an image relative to root
//					"new",  // item type eg email, feature, new
//					 ""  // caption for photo
//					];  // end of array
	
	


	wts_array[wts_array.length] =  [
					 "Promoting Access to Medical Technologies and Innovation: Intersections between public health, intellectual property and trade",  // display text
					 "/english/res_e/publications_e/who-wipo-wto_2013_e.htm",  // link relative to root
					 0, // language text array index
					 "",  // ??&nbsp;pages; ??KB; for document
					 "/images/publications/whowipowto2013.jpg",  // link to an image relative to root
					"feature",  // item type eg email, feature, new
					 ""  // caption for photo
					];  // end of array	
	

	wts_array[wts_array.length] =  [
					 "Publication details",  // display text
					 "/english/res_e/publications_e/who-wipo-wto_2013_e.htm",  // link relative to root
					 0, // language text array index
					 "",  // ??&nbsp;pages; ??KB; for document
					 "",  // link to an image relative to root
					"feature",  // item type eg email, feature, new
					 ""  // caption for photo
					];  // end of array	
	
	wts_array[wts_array.length] =  [
					 "<b>Information Centre:</b> Updated 8 May",  // display text
					 "/english/news_e/infocenter_e.htm",  // link relative to root
					 0, // language text array index
					 "",  // ??&nbsp;pages; ??KB; for document
					 "",  // link to an image relative to root
					"new",  // item type eg email, feature, new
					 ""  // caption for photo
					];  // end of array
	
wts_array[wts_array.length] =  [
					 "<b>Updated WTO Analytical Index and Supplement (1995-2013)</b>",  // display text
					 "/english/res_e/booksp_e/analytic_index_e/analytic_index_e.htm",  // link relative to root
					 0, // language text array index
					 "",  // ??&nbsp;pages; ??KB; for document
					 "",  // link to an image relative to root
					"new",  // item type eg email, feature, new
					 ""  // caption for photo
					];  // end of array


wts_array[wts_array.length] =  [
					 "<b>New page:</b> Business, trade and the WTO",  // display text
					 "/english/forums_e/business_e/business_e.htm",  // link relative to root
					 0, // language text array index
					 "",  // ??&nbsp;pages; ??KB; for document
					 "",  // link to an image relative to root
					"new",  // item type eg email, feature, new
					 ""  // caption for photo
					];  // end of array



wts_array[wts_array.length] =  [
					 "<b>New publication:</b> The Future of Trade: The Challenges of Convergence",  // display text
					 "/english/res_e/publications_e/future_of_trade_e.htm",  // link relative to root
					 0, // language text array index
					 "",  // ??&nbsp;pages; ??KB; for document
					 "",  // link to an image relative to root
					"new",  // item type eg email, feature, new
					 ""  // caption for photo
					];  // end of array


		
//	wts_array[wts_array.length] =  [
//					 "<b>New publication:</b> “WTO Annual Report 2012”",  // display text
//					 "/english/res_e/publications_e/anrep12_e.htm",  // link relative to root
//					 0, // language text array index
//					 "",  // ??&nbsp;pages; ??KB; for document
//					 "",  // link to an image relative to root
//					"new",  // item type eg email, feature, new
//					 ""  // caption for photo
//					];  // end of array
	
	

	wts_array[wts_array.length] =  [
					 "<b>New working paper:</b> International standards and the WTO TBT Agreement: Improving governance for regulatory alignment ", // display text
					 "/english/res_e/reser_e/ersd201306_e.htm",  // link relative to root
					 0, // language text array index
					 "",  // ??&nbsp;pages; ??KB; for document
					 "",  // link to an image relative to root
					"new",  // item type eg email, feature, new
					 ""  // caption for photo
					];  // end of array
	

//wts_array[wts_array.length] =  [
//					 "<b>Vacancy notice:</b> Executive Director, International Trade Centre",  // display text
//					 "/english/thewto_e/vacan_e/vn_e/itc_oct12_e.pdf",  // link relative to root
//					 0, // language text array index
//					 "",  // ??&nbsp;pages; ??KB; for document
//					 "",  // link to an image relative to root
//					"new",  // item type eg email, feature, new
//					 ""  // caption for photo
//					];  // end of array




var item_type_array = new Array(); // array for different watch this space sections
	item_type_array[1] = ["email", "&nbsp;FOLLOW&nbsp;WTO&nbsp;", "", ""];
	item_type_array[0] = ["feature", "&nbsp;FEATURE&nbsp;", "More publications", "english/res_e/res_e.htm#publications"];
//	item_type_array[2] = ["event", "&nbsp;EVENT&nbsp;", "", ""];
	item_type_array[2] = ["new", "&nbsp;NEW&nbsp;ON&nbsp;THE&nbsp;WEBSITE&nbsp;", "", ""];
	
var language_text_array = new Array(); // array for text to indicate that item is in a different language
	language_text_array[0] = "";
	language_text_array[1] = "temporarily in English";
	language_text_array[2] = "only in English";
	language_text_array[3] = "bilingual statement &mdash; translations will follow shortly";
	language_text_array[4] = "temporarily in French";
	language_text_array[5] = "only in French";
	language_text_array[6] = "temporarily in Spanish";
	language_text_array[7] = "only in Spanish";

var document_type_array = new Array();  // array for flyout text to be used depending on the document type
	document_type_array[0] = ["doc", "MS word format;"];
	document_type_array[1] = ["pdf", "pdf format;"];
	document_type_array[2] = ["wpf", "Wordperfect format;"];
	document_type_array[3] = ["xls", "MS excel format;"];
	document_type_array[4] = ["ppt", "MS powerpoint format;"];
var start_url = "";  // variable for start of url
var end_url = "";  // variable for end of url
var new_window = false; // boolean to indicate if a new window is needed
var new_window_text = "opens in a new window"; // variable for text to display if document should open in a new window
var document_type = "";  // variable for text to display if document is not html
var flyout_text = ""; // variable for flyout text
var new_box = true;
var index_page = false;
var border_colour = "#18497B";
var slideshow_array = new Array();
	
// This function displays just the feature box
function displayFeature()
{
	if ((this_page.indexOf("/english/") == -1) && (this_page.indexOf("/french/") == -1) && (this_page.indexOf("/spanish/") == -1))
	{
		index_page = true;
	}
	if (this_page.indexOf("/docs_") != -1)
	{
		border_colour = "#FF0000";
	}
	else if (this_page.indexOf("/forums_") != -1)
	{
		border_colour = "#000080";
	}
	else if (this_page.indexOf("/info_") != -1)
	{
		border_colour = "#0080C0";
	}
	else if (this_page.indexOf("/news_") != -1)
	{
		border_colour = "#0080FF";
	}
	else if (this_page.indexOf("/res_") != -1)
	{
		border_colour = "#008080";
	}
	else if (this_page.indexOf("/thewto_") != -1)
	{
		border_colour = "#0080C0";
	}
	else if (this_page.indexOf("/tratop_") != -1)
	{
		border_colour = "#800000";
	}
	if (index_page == true)
	{
		document.writeln("<table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><td width=\"30%\" class=\"cellheadingcolourtext\">" + item_type_array[1][1] + "</td><td class=\"cellheadingwhitetext\">&nbsp;</td></tr></table>");
	}
	else
	{
		document.writeln("<table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><td width=\"30%\" class=\"cellheadingwhitetext\">" + item_type_array[1][1] + "</td><td class=\"cellheadingblacktext\">&nbsp;</td></tr></table>");
	}
	document.writeln("<table style=\"border-style:solid; border-color:" + border_colour + "; border-width:1px; border-collapse:collapse\"  border=\"1\" cellSpacing=\"0\" cellPadding=\"4\" width=\"100%\" bgcolor=\"#FFFFFF\"><tr><td width=\"100%\"><table width=\"100%\" border=\"0\" cellspacing=\"2\" cellpadding=\"2\"><tr><td valign=\"top\" class=\"paranormaltext\">");
// loops through each item of the array of watch this space items
	for (i = 0; i < wts_array.length; i++)
	{
		if (wts_array[i][5] == "feature")
		{
			if (wts_array[i][1] != "")
			{
				new_window = false;
				flyout_text = "";
				end_url = wts_array[i][1].substr(wts_array[i][1].length - 3, 3).toLowerCase();
// loop through array of different document types			
				for (j = 0; j < document_type_array.length; j++)
				{
// extension of link is in list of selected docment types - set indicator for a new window 
// and build flyout text
					if (document_type_array[j][0] == end_url)
					{
						new_window = true;
						flyout_text = document_type_array[j][1] + " " + wts_array[i][3] + " " + new_window_text;
						break;
					}
				}
				start_url = wts_array[i][1].substr(0, 7);
// link is to an external website - set indicator for a new window and build flyout text	
				if ((new_window == false) && (start_url == "http://"))
				{
					new_window = true;
					flyout_text = new_window_text;
				}
				if (wts_array[i][2] != 0)
				{
					if (flyout_text != "")
					{
						flyout_text = flyout_text + "; ";
					}
					flyout_text = flyout_text + language_text_array[wts_array[i][2]];
				}
			}
// array item contains no link - display as a heading
			if (wts_array[i][1] == "")
			{
				document.write("<p align=\"left\" class=\"subnormalboldcolourtext\">" + wts_array[i][0]);
				if (wts_array[i][4] != "")
				{
					document.write("<br><img border=\"0\" src=\"" + wts_array[i][4]);
					if (wts_array[i][6] != "")
					{
						document.write("\"  onmouseover=\"writetxt(\'" + wts_array[i][6] + "\')\" onmouseout=\"writetxt(0)");
					}
					document.write("\">");
				}
				document.writeln("</p>");
			}
			else if ((wts_array[i][1] != "") && (wts_array[i][4] != ""))
			{
				document.write("<p align=\"left\" class=\"subnormalboldcolourtext\">" + wts_array[i][0] + "<br>");
				document.write("<a class=\"parasmallcolourtext\" href=\"" + wts_array[i][1] + "\"");
				if (new_window == true)
				{
					document.write(" target=\"_blank\""); 
				}
				if (wts_array[i][6] != "")
				{
					flyout_text = wts_array[i][6] + flyout_text;
				}
				if (flyout_text != "")
				{
					document.write(" onmouseover=\"writetxt(\'" + flyout_text + "\')\" onmouseout=\"writetxt(0)\"");
				}
				document.writeln("><img border=\"0\" src=\"" + wts_array[i][4] + "\" ></a></p>");			
			}
			else
// array item contains a link - display as a link		
			{
// write link
				document.write("<p align=\"left\" class=\"smallgreaterlistitem\">");
				if (wts_array[i][0] == "Slideshow")
				{
					slideshow_array = wts_array[i][1].split(", ");
					insertOccasionSlideshow(slideshow_array[0], slideshow_array[1],  parseInt(slideshow_array[2]), parseInt(slideshow_array[3]));
				}
				else
				{
					if (wts_array[i][4] != "")
					{
						document.write("<a class=\"parasmallcolourtext\" href=\"" + wts_array[i][1] + "\"");
						if (new_window == true)
						{
							document.write(" target=\"_blank\""); 
						}
						if (flyout_text != "")
						{
							document.write(" onmouseover=\"writetxt(\'" + flyout_text + "\')\" onmouseout=\"writetxt(0)\"");
						}
						document.write("><img border=\"0\" src=\"" + wts_array[i][4] + "\" align=\"right\" width=\"50\"></a>");			
					}
					document.write("&gt;&nbsp;<a class=\"parasmallcolourtext\" href=\"" + wts_array[i][1] + "\"");
					if (new_window == true)
					{
						document.write(" target=\"_blank\""); 
					}
					if (flyout_text != "")
					{
						document.write(" onmouseover=\"writetxt(\'" + flyout_text + "\')\" onmouseout=\"writetxt(0)\"");
					}
					document.write(">" + wts_array[i][0] + "</a>");
					document.writeln("</p>");
				}
			}
		}
	}
// write end of table tags	
    document.writeln("</td></tr></table></td></tr></table>");
	return false;
	
}

// This function displays the Watch this space table on a web page
function displayWatchThisSpace()
{
	if ((this_page.indexOf("/english/") == -1) && (this_page.indexOf("/french/") == -1) && (this_page.indexOf("/spanish/") == -1))
	{
		index_page = true;
	}
	if (this_page.indexOf("/docs_") != -1)
	{
		border_colour = "#FF0000";
	}
	else if (this_page.indexOf("/forums_") != -1)
	{
		border_colour = "#000080";
	}
	else if (this_page.indexOf("/info_") != -1)
	{
		border_colour = "#0080C0";
	}
	else if (this_page.indexOf("/news_") != -1)
	{
		border_colour = "#0080FF";
	}
	else if (this_page.indexOf("/res_") != -1)
	{
		border_colour = "#008080";
	}
	else if (this_page.indexOf("/thewto_") != -1)
	{
		border_colour = "#0080C0";
	}
	else if (this_page.indexOf("/tratop_") != -1)
	{
		border_colour = "#800000";
	}

// loops through array of different watch this space sections
	for (h = 0; h < item_type_array.length; h++)
	{
		new_box = true;
// loops through each item of the array of watch this space items
		for (i = 0; i < wts_array.length; i++)
		{
			if (wts_array[i][5] == item_type_array[h][0])
			{
				if (new_box == true)
				{
					if (h != 0)
					{
    					document.writeln("<table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><td>&nbsp;</td></tr></table>");
					}
					if (index_page == true)
					{
						document.writeln("<table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><td width=\"30%\" class=\"cellheadingcolourtext\">" + item_type_array[h][1] + "</td><td class=\"cellheadingwhitetext\">&nbsp;</td></tr></table>");
					}
					else
					{
						document.writeln("<table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><td width=\"30%\" class=\"cellheadingwhitetext\">" + item_type_array[h][1] + "</td><td class=\"cellheadingblacktext\">&nbsp;</td></tr></table>");
					}
	    			document.writeln("<table style=\"border-style:solid; border-color:" + border_colour + "; border-width:1px; border-collapse:collapse\" border=\"1\" cellSpacing=\"0\" cellPadding=\"4\" width=\"100%\" bgcolor=\"#FFFFFF\"><tr><td width=\"100%\"><table width=\"100%\" border=\"0\" cellspacing=\"2\" cellpadding=\"2\"><tr><td valign=\"top\" class=\"paranormaltext\">");
					new_box = false;
				}
				if (wts_array[i][1] != "")
				{
					new_window = false;
					flyout_text = "";
					end_url = wts_array[i][1].substr(wts_array[i][1].length - 3, 3).toLowerCase();
// loop through array of different document types			
					for (j = 0; j < document_type_array.length; j++)
					{
// extension of link is in list of selected docment types - set indicator for a new window 
// and build flyout text
						if (document_type_array[j][0] == end_url)
						{
							new_window = true;
							flyout_text = document_type_array[j][1] + " " + wts_array[i][3] + " " + new_window_text;
							break;
						}
					}
					start_url = wts_array[i][1].substr(0, 7);
// link is to an external website - set indicator for a new window and build flyout text	
					if ((new_window == false) && (start_url == "http://"))
					{
						new_window = true;
						flyout_text = new_window_text;
					}
					if (wts_array[i][2] != 0)
					{
						if (flyout_text != "")
						{
							flyout_text = flyout_text + "; ";
						}
						flyout_text = flyout_text + language_text_array[wts_array[i][2]];
					}
				}
// array item contains no link - display as a heading
				if (wts_array[i][1] == "")
				{
					document.write("<p align=\"left\" class=\"subnormalboldcolourtext\">" + wts_array[i][0]);
					if (wts_array[i][4] != "")
					{
						document.write("<br><img border=\"0\" src=\"" + wts_array[i][4]);
						if (wts_array[i][6] != "")
						{
							document.write("\"  onmouseover=\"writetxt(\'" + wts_array[i][6] + "\')\" onmouseout=\"writetxt(0)");
						}
						document.write("\">");
					}
					document.writeln("</p>");
				}
				else if ((wts_array[i][1] != "") && (wts_array[i][4] != ""))
				{
					document.write("<p align=\"left\" class=\"subnormalboldcolourtext\">" + wts_array[i][0] + "<br>");
					document.write("<a class=\"parasmallcolourtext\" href=\"" + wts_array[i][1] + "\"");
					if (new_window == true)
					{
						document.write(" target=\"_blank\""); 
					}
					if (wts_array[i][6] != "")
					{
						flyout_text = wts_array[i][6] + flyout_text;
					}
					if (flyout_text != "")
					{
						document.write(" onmouseover=\"writetxt(\'" + flyout_text + "\')\" onmouseout=\"writetxt(0)\"");
					}
					document.writeln("><img border=\"0\" src=\"" + wts_array[i][4] + "\" ></a></p>");			
				}
				else
// array item contains a link - display as a link		
				{
// write link
					document.write("<p align=\"left\" class=\"smallgreaterlistitem\">");
					if (wts_array[i][0] == "Slideshow")
					{
						slideshow_array = wts_array[i][1].split(", ");
						insertOccasionSlideshow(slideshow_array[0], slideshow_array[1],  parseInt(slideshow_array[2]), parseInt(slideshow_array[3]));
					}
					else
					{
					if (wts_array[i][4] != "")
					{
						document.write("<a class=\"parasmallcolourtext\" href=\"" + wts_array[i][1] + "\"");
						if (new_window == true)
						{
							document.write(" target=\"_blank\""); 
						}
						if (flyout_text != "")
						{
							document.write(" onmouseover=\"writetxt(\'" + flyout_text + "\')\" onmouseout=\"writetxt(0)\"");
						}
						document.write("><img border=\"0\" src=\"" + wts_array[i][4] + "\" align=\"right\" width=\"50\"></a>");			
					}
					document.write("&gt;&nbsp;<a class=\"parasmallcolourtext\" href=\"" + wts_array[i][1] + "\"");
					if (new_window == true)
					{
						document.write(" target=\"_blank\""); 
					}
					if (flyout_text != "")
					{
						document.write(" onmouseover=\"writetxt(\'" + flyout_text + "\')\" onmouseout=\"writetxt(0)\"");
					}
					document.write(">" + wts_array[i][0] + "</a>");
					document.writeln("</p>");
				}
				}
			}
		}
// write end of table tags	
    	document.writeln("</td></tr></table></td></tr></table>");
	}
	return false;
}

function displayLatestWTSUpdates()
{
	var updateText = "";
	var new_window = false;
	var flyout_text = "";
	var end_url = "";
	document.writeln("<ul class=\"cellmultilinelist\" style=\"list-style-type:none; margin:0; padding:0; text-align:left\">");

	for (var i = 0; i < wts_array.length; i++)
	{
		if (wts_array[i][5] == "new")
		{
			new_window = false;
			flyout_text = "";
			end_url = wts_array[i][1].substr(wts_array[i][1].length - 3, 3).toLowerCase();
// loop through array of different document types			
			for (var j = 0; j < document_type_array.length; j++)
			{
// extension of link is in list of selected docment types - set indicator for a new window 
// and build flyout text
				if (document_type_array[j][0] == end_url)
				{
					new_window = true;
					flyout_text = document_type_array[j][1] + " " + wts_array[i][3] + " " + new_window_text;
					break;
				}
			}
			start_url = wts_array[i][1].substr(0, 7);
// link is to an external website - set indicator for a new window and build flyout text	
			if ((new_window == false) && (start_url == "http://"))
			{
				new_window = true;
				flyout_text = new_window_text;
			}
			if (wts_array[i][2] != 0)
			{
				if (flyout_text != "")
				{
					flyout_text = flyout_text + "; ";
				}
				flyout_text += language_text_array[wts_array[i][2]];
			}

			updateText = "<li class=\"cellmultilinelist\" align=\"left\">&gt;&nbsp;<a href=\"" + wts_array[i][1] + "\"";
			if (new_window == true)
			{
				updateText += " target=\"_blank\"";
			}
			if (flyout_text != "")
			{
				updateText += " onmouseover=\"writetxt(\'" + flyout_text + "\')\" onmouseout=\"writetxt(0)\"";
			}
			updateText += " class=\"celllinks\">" + wts_array[i][0] + "</a></li>";
			document.writeln(updateText);
		}
	}
	document.writeln("</ul>");
}

//-->

