var ensightenOptions={client:"reuters",clientId:139,ns:"Bootstrapper",nexus:"nexus.ensighten.com"};

if ( ensightenOptions && !window[ensightenOptions.ns] ) {

window[ensightenOptions.ns]=function(h){var c={},b={};c.version="2.0.3";c.nexus=h.nexus||"nexus.ensighten.com";c.options={interval:h.interval||100,erLoc:h.errorLocation||c.nexus+"/error/e.gif",scLoc:h.serverComponentLocation||c.nexus+"/"+h.client+"/serverComponent.php",sjPath:h.staticJavscriptPath||c.nexus+"/"+h.client+"/code/",alLoc:h.alertLocation||c.nexus+"/alerts/a.gif",client:h.client,clientId:h.clientId};c.ruleList=[];c.exceptionList=[];c.ensightenVariables={};c.test=function(a){if(!a.executionData.hasRun){for(var d=
0;d<a.dependencies.length;d++)if(!1===a.dependencies[d]())return;a.execute()}};b.currentRuleId=-1;b.reportedErrors=[];b.reportedAlerts=[];b.getServerComponent=function(a){b.insertScript(window.location.protocol+"//"+c.options.scLoc,!1,a||!0)};b.setVariable=function(a,d){c.ensightenVariables[a]=d};b.getVariable=function(a){return a in c.ensightenVariables?c.ensightenVariables[a]:null};b.testAll=function(){for(var a=0;a<c.ruleList.length;a++)c.test(c.ruleList[a])};b.executionState={DOMParsed:!1,DOMLoaded:!1,
conditionalRules:!1};b.Rule=function(a){this.execute=function(){this.executionData.hasRun=!0;this.executionData.runTime.push(new Date);b.currentRuleId=this.id;try{this.code()}catch(a){window[ensightenOptions.ns].reportException(a)}finally{b.testAll()}};this.id=a.id;this.dependencies=a.dependencies||[];this.code=a.code;this.executionData={hasRun:!1,runTime:[]}};b.registerRule=function(a){if(b.getRule(a.id)&&-1!==a.id)return!1;c.ruleList.push(a);b.testAll();return!0};b.getRule=function(a){for(var d=
0;d<c.ruleList.length;d++)if(c.ruleList[d].id===a)return c.ruleList[d];return!1};b.hasRuleRun=function(a){return(a=b.getRule(a))?a.executionData.hasRun:!1};c.toTwoChar=function(a){return(2===a.toString().length?"":"0")+a};b.Alert=function(a){var d=new Date,d=d.getFullYear()+"-"+c.toTwoChar(d.getMonth())+"-"+c.toTwoChar(d.getDate())+" "+c.toTwoChar(d.getHours())+":"+c.toTwoChar(d.getMinutes())+":"+c.toTwoChar(d.getSeconds());this.severity=a.severity||1;this.date=d;this.subject=a.subject||"";this.type=
a.type||1;this.ruleId=a.ruleId||-1};b.generateAlert=function(a){a=b.imageRequest(window.location.protocol+"//"+c.options.alLoc+"?d="+a.date+"&su="+a.subject+"&se="+a.severity+"&t="+a.type+"&rid="+a.ruleId);a.timestamp=(new Date).getTime();this.reportedAlerts.push(a)};b.reportException=function(a){a.timestamp=(new Date).getTime();c.exceptionList.push(a);a=b.imageRequest(window.location.protocol+"//"+c.options.erLoc+"?msg="+a.message+"&lnn="+a.lineNumber+"&fn="+a.fileName+"&cid="+c.options.clientId+
"&rid="+b.currentRuleId);a.timestamp=(new Date).getTime();this.reportedErrors.push(a)};b.imageRequest=function(a){var d=new Image(0,0);d.src=a;return d};b.insertScript=function(a,d,b){var f=document.getElementsByTagName("script"),l;if(void 0!==d?d:1)for(l=0;l<f.length;l++)if(f[l].src===a&&f[l].readyState&&/loaded|complete/.test(f[l].readyState))return;if(b){b=!0==b&&"object"==typeof window._ensSCData?window._ensSCData:b;d=Math.random()*("1E"+(10*Math.random()).toFixed(0));f=window.location.href;if("object"===
typeof b)for(l in b){l=~f.indexOf("#")?f.slice(f.indexOf("#"),f.length):"";f=f.slice(0,l.length?f.length-l.length:f.length);f+=~f.indexOf("?")?"&":"?";for(k in b)f+=k+"="+b[k]+"&";f=f.slice(0,-1)+l;break}a+="?r="+d+"&ClientID="+c.options.clientId+"&PageID="+encodeURIComponent(f)}var e=document,h=a,j=e.head||e.getElementsByTagName("head");setTimeout(function(){if("item"in j){if(!j[0]){setTimeout(arguments.callee,25);return}j=j[0]}var a=e.createElement("script");a.src=h;a.onload=a.onerror=function(){this.addEventListener&&
(this.readyState="loaded")};j.insertBefore(a,j.firstChild)},0)};b.loadScriptCallback=function(a,b){var g=document.getElementsByTagName("script"),c,e=g[0];for(c=0;c<g.length;c++)if(g[c].src===a&&g[c].readyState&&/loaded|complete/.test(g[c].readyState))try{b()}catch(h){window[ensightenOptions.ns].reportException(h)}finally{return}g=document.createElement("script");g.type="text/javascript";g.async=!0;g.src=a;g.onerror=function(){this.addEventListener&&(this.readyState="loaded")};g.onload=g.onreadystatechange=
function(){if(!this.readyState||"complete"===this.readyState||"loaded"===this.readyState){this.onload=null;this.addEventListener&&(this.readyState="loaded");try{b.call(this)}catch(a){window[ensightenOptions.ns].reportException(a)}}};e.parentNode.insertBefore(g,e)};b.unobtrusiveAddEvent=function(a,b,c){try{var f=a[b]?a[b]:function(){};a[b]=function(){c.apply(this,arguments);return f.apply(this,arguments)}}catch(e){window[ensightenOptions.ns].reportException(e)}};b.anonymous=function(a,d){return function(){try{b.currentRuleId=
d?d:"anonymous",a()}catch(c){window[ensightenOptions.ns].reportException(c)}}};b.setCurrentRuleId=function(a){b.currentRuleId=a};b.bindImmediate=function(a,d){var c;if("function"===typeof a)c=new b.Rule({id:d||-1,dependencies:[],code:a});else if("object"===typeof a)c=a;else return!1;b.registerRule(c)};b.bindDOMParsed=function(a,c){var g;if("function"===typeof a)g=new b.Rule({id:c||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMParsed}],code:a});else if("object"===
typeof a)g=a;else return!1;b.registerRule(g)};b.bindDOMLoaded=function(a,c){var g;if("function"===typeof a)g=new b.Rule({id:c||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMLoaded}],code:a});else if("object"===typeof a)g=a;else return!1;b.registerRule(g)};b.bindPageSpecificCompletion=function(a,c){var g;if("function"===typeof a)g=new b.Rule({id:c||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.conditionalRules}],code:a});else if("object"===
typeof a)g=a;else return!1;b.registerRule(g)};b.callOnDOMParsed=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].testAll()};b.callOnDOMLoaded=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].executionState.DOMLoaded=!0;window[ensightenOptions.ns].testAll()};b.callOnPageSpecificCompletion=function(){for(var a=document.getElementsByTagName("script"),b=0,c=a.length;b<c;b++)if(a[b].src.match(/\.ensighten\.com\/(.+?)\/code\/.*/i)&&
!("loaded"==a[b].readyState||"complete"==a[b].readyState)){setTimeout(window[ensightenOptions.ns].callOnPageSpecificCompletion,50);return}setTimeout(function(){window[ensightenOptions.ns].executionState.conditionalRules=!0;window[ensightenOptions.ns].testAll()},1)};b.hasDOMParsed=function(){return window[ensightenOptions.ns].executionState.DOMParsed};b.hasDOMLoaded=function(){return window[ensightenOptions.ns].executionState.DOMLoaded};b.hasPageSpecificCompletion=function(){return window[ensightenOptions.ns].executionState.conditionalRules};
b.new_fArray=function(){var a=[],b=!1,c=!1;return{add:function(f){b&&!c?f():"function"==typeof f&&(a[a.length]=f)},exec:function(){c=!0;do{var f=a;a=[];b=!0;for(var e=0;e<f.length;e++)try{f[e].call(window)}catch(h){window[ensightenOptions.ns].reportException(h)}}while(0<a.length);c=!1},haveRun:function(){return b}}};c.timer=null;h=function(a,b){return function(){a.apply(b,arguments)}};window.console||(window.console={});var e=window.console;if(!e.log)if(window.log4javascript){var j=log4javascript.getDefaultLogger();
e.log=h(j.info,j);e.debug=h(j.debug,j);e.info=h(j.info,j);e.warn=h(j.warn,j);e.error=h(j.error,j)}else e.log=function(){};e.debug||(e.debug=e.log);e.info||(e.info=e.log);e.warn||(e.warn=e.log);e.error||(e.error=e.log);document.addEventListener?(-1<navigator.userAgent.indexOf("AppleWebKit/")?c.timer=window.setInterval(function(){/loaded|complete/.test(document.readyState)&&(clearInterval(c.timer),b.callOnDOMParsed())},50):document.addEventListener("DOMContentLoaded",b.callOnDOMParsed,!1),window.addEventListener("load",
b.callOnDOMLoaded,!1)):(setTimeout(function(){var a=window.document;(function(){try{if(!document.body)throw"continue";a.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,15);return}window[ensightenOptions.ns].callOnDOMParsed()})()},1),window.attachEvent("onload",function(){window[ensightenOptions.ns].callOnDOMLoaded()}));window.setInterval(b.testAll,c.options.interval);return b}(ensightenOptions);

	
callback14144=Bootstrapper.new_fArray();callback8650=Bootstrapper.new_fArray();callback13874=Bootstrapper.new_fArray();(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);(function(){var w=window;w.wt_fpcCookie=Bootstrapper.Cookies.get('WT_FPC');TR.log("Entered the First Rule Tag");if(wt_fpcCookie===null){TR.log("wt_fpcCookie is null");w.wt_fpcID="NotSet";}else{var wt_valueMap={},tempStr=wt_fpcCookie;tempStr.replace(/([^=:]+)=([^:]*)/g,function($0,param,value){wt_valueMap[param]=value;});w.wt_fpcID=wt_valueMap.id;TR.log("wt_fpcID = "+w.wt_fpcID);}
var srnd_keyword=Bootstrapper.Cookies.get("srnd_keyword");var srnd_sequence=Bootstrapper.Cookies.get("srnd_sequence");if(srnd_keyword){w.srnd=TR.data.srnd="srnd="+(srnd_keyword||"")+";srnd_sequence="+(srnd_sequence||"")+";";}})();});(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);(function(){function parseRcomUrl(){TR.data.contentType="landing";var parts=window.location.pathname.split("/");if(parts[1]!==null&&parts[1]==="article"){TR.data.contentType="articles";}}
function parseOlympicsUrl(){var w=window;TR.log("Entered the Olympic URL Parsing tag");var ARTICLES="articles";var LANDING="landing";var DATE_YEAR="2012";var SCHEDULES="schedules";var SEARCH="search";var HOME="Home";w.pageNumber="1";var currentURL=window.location.pathname;var parts=currentURL.split("/");w.siteEdition="Olympics2012";w.topLevelName=parts[1];w.contentGroupName=null;w.contentSubGroupName=null;w.contentSubGroupName2=null;w.contentType=LANDING;w.adSite="ReutersOlympics/";w.adZone="home";w.searchPhrase=null;var contentGroupIndex=-1;if(parts[2]!==null&&parts[2]!=="")
{if(parts[2]===ARTICLES)
{contentGroupIndex=3;contentType=ARTICLES;}
if(parts[2]===SEARCH)
{contentGroupIndex=2;contentType=SEARCH;}
else
{contentGroupIndex=2;}}
else
{contentGroupName=HOME;contentSubGroupName=HOME;contentType=HOME;}
if(contentGroupIndex!=-1)
{contentGroupName=parts[contentGroupIndex];if(parts[contentGroupIndex+1]!==undefined&&parts[contentGroupIndex+1]!==null&&parts[contentGroupIndex+1]!=="")
{contentSubGroupName=parts[contentGroupIndex+1];if(parts[contentGroupIndex+2]!==undefined&&parts[contentGroupIndex+2]!=DATE_YEAR)
{contentSubGroupName2=parts[contentGroupIndex+2];}
if(contentType==SEARCH)
{searchPhrase=currentURL.substring(currentURL.indexOf("/site/")+6);searchPhrase=decodeURI(searchPhrase);contentSubGroupName2=null;}}
if(contentType==ARTICLES)
{if(parts[3]!==null&&parts[3]!=="")
{adZone=parts[3]+"/"+ARTICLES;}}
else
{if(contentGroupName!==null&&contentGroupName!=="")
{adZone=contentGroupName;}
if(contentSubGroupName!==null)
{adZone=adZone+"/"+contentSubGroupName;}
if(contentSubGroupName2!==null&&parts[2]===SCHEDULES)
{adZone=adZone+"/"+contentSubGroupName2;}}}
TR.log("contentGroupIndex = "+contentGroupIndex);TR.log("Top Level Name = "+topLevelName);TR.log("contentGroupName = "+contentGroupName);TR.log("contentSubGroupName = "+contentSubGroupName);TR.log("contentSubGroupName2 = "+contentSubGroupName2);TR.log("contentType = "+contentType);TR.log("adSite = "+adSite);TR.log("adZone = "+adZone);TR.log("searchPhrase = "+searchPhrase);TR.log("pageNumber = "+pageNumber);}
if(~window.location.pathname.indexOf('london-olympics-2012')){parseOlympicsUrl();}else if(~window.location.hostname.indexOf('reuters.com')||~window.location.hostname.indexOf('10.90.22.173')){parseRcomUrl();}})();;Bootstrapper.setCurrentRuleId(13874);callback13874.exec();});(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);(function(){if(TR.data.doNotFireTags)
{return;}
if(TR.checkHosts(['reuters.com','preview.us.reuters.com','10.90.22.173','thomsonreutstg.prod.acquia-sites.com','test-site-reuters.arc90.com'])){TR.addEvent("fired:npario");var segUri='http://svc.npario-inc.net/DMP/tag.js?ck=C128&ap=1&seg=1';if(TR.sync.npario===1){TR.writeScript(segUri);TR.addEvent("completed:npario");}else{Bootstrapper.loadScriptCallback(segUri,function(){TR.addEvent("completed:npario");});}
Bootstrapper.bindDOMLoaded(function(){Bootstrapper.loadScriptCallback('http://svc.npario-inc.net/DMP/tag.js?ck=C128&ap=0&seg=0',function(){addKV("revop_wtfpc",window.wt_fpcCookie);pixel();});});}})();});(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);(function(){if(TR.data.doNotFireTags)
{return;}
TR.addEvent("fired:crowdscience");window.crowdScienceCallback=function(data){if(data&&data.segments){TR.data.crowdscience=';csseg='+data.segments.join(';csseg=');TR.log("CrowdScience callback got data = ",TR.data.crowdscience);}
TR.addEvent("completed:crowdscience");};var uri=('https:'==document.location.protocol?'https://secure-':'http://')+'static.crowdscience.com/max-0d4c0ced3a.js?callback=crowdScienceCallback';if(TR.sync.crowdscience===1){TR.writeScript(uri);}else{Bootstrapper.insertScript(uri);}})();});(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);TR.Analytics={};TR.Analytics.Event={};TR.Analytics.Event.PAGEVIEW="pageview";TR.Analytics.Event.CLICK={};TR.Analytics.Event.CLICK.NAVIGATION="navi";TR.Analytics.Event.CLICK.SHARE="share";TR.Analytics.handleEvent=function(eventname){TR.log("handleEvent fired: "+eventname);switch(eventname)
{case TR.Analytics.Event.PAGEVIEW:TR.Analytics.trackPageview();break;case TR.Analytics.Event.CLICK.NAVIGATION:TR.Analytics.trackNavi();break;case TR.Analytics.Event.CLICK.SHARE:TR.Analytics.trackShare();break;default:TR.log("Unknown event request :"+eventname);}};TR.Analytics.trackPageview=function(){TR.log("IN TR.Analytics.pageView");TR.log("OUT TR.Analytics.pageView");};TR.Analytics.trackNavi=function(){TR.log("IN TR.Analytics.trackNavi");TR.log("OUT TR.Analytics.trackNavi");};TR.Analytics.trackShare=function(){TR.log("IN TR.Analytics.trackShare");TR.log("OUT TR.Analytics.trackShare");};});(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);Bootstrapper.insertScript('http://js.moatads.com/reutersUEidH342/moatinred.js');});(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);if(TR.checkHosts(['www.reuters.com','uk.reuters.com','preview.us.reuters.com','10.90.22.173'])){TR.log("Optimize Rule Tag initiated");Bootstrapper.loadScriptCallback("http://static.reuters.com/resources_v2/js/wt_capi.js",function()
{Bootstrapper.addTagToBody=setInterval(function(){if(!document.getElementsByTagName('body').length){return;}
clearInterval(Bootstrapper.addTagToBody);WTOptimize.setup({s_pageTimeout:6000});TR.log("Optimize Rule Tag executed");},150);});}});(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);if(TR.checkHosts(['preview.us.reuters.com','10.90.22.173','www.reuters.com','uk.reuters.com','test-site-reuters.arc90.com'])){if(window.contentType==="articles"||TR.data.contentType==="articles"){TR.addEvent("fired:in-read");window.tt_config={pid:17802,slot:'#articleText > p',mention:'none'};Bootstrapper.insertScript("http://cdn.teads.tv/js/inread-v2.js");}}});(window.callback8650=window.callback8650||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(8650);(function(){if(TR.data.doNotFireTags){return;}
if(TR.checkHosts(['preview.us.reuters.com','10.90.22.173','test-site-reuters.arc90.com'])){TR.addEvent("fired:criteo");if(TR.sync.creteo===1){TR.addEvent("completed:criteo");}else{var crtg_nid="1771";var crtg_cookiename="cto_reuters";var crtg_varname="crtg_content";function crtg_getCookie(c_name){var i,x,y,ARRCookies=document.cookie.split(";");for(i=0;i<ARRCookies.length;i++){x=ARRCookies[i].substr(0,ARRCookies[i].indexOf("="));y=ARRCookies[i].substr(ARRCookies[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==c_name){return unescape(y);}}
return'';}
var crtg_content=crtg_getCookie(crtg_cookiename);var crtg_rnd=Math.floor(Math.random()*99999999999);var crtg_url=location.protocol+'//rtax.criteo.com/delivery/rta/rta.js?netId='+escape(crtg_nid);crtg_url+='&cookieName='+escape(crtg_cookiename);crtg_url+='&rnd='+crtg_rnd;crtg_url+='&varName='+escape(crtg_varname);var crtg_script=document.createElement('script');crtg_script.type='text/javascript';crtg_script.src=crtg_url;crtg_script.async=true;if(document.getElementsByTagName("head").length>0)
document.getElementsByTagName("head")[0].appendChild(crtg_script);else if(document.getElementsByTagName("body").length>0)
document.getElementsByTagName("body")[0].appendChild(crtg_script);TR.crtg_content=crtg_varname+"="+crtg_content;}}})();});var init=true;document._write=document.write;document.write=function(x){if(Bootstrapper.hasDOMParsed()){var d=document.createElement('div');x=x.split(/\<script/i);var scripts=[];var repSpans=[];var repScripts=[];if(x[0]==''){x.shift();}
for(var i=0;i<x.length;i++){x[i]=x[i].split(/\/script\>/i);if(x[i][0].indexOf('<')){scripts.push('<script'+x[i][0]+'/script>');x[i][0]="<span name='ensScript'></span>";}
x[i]=x[i].join('');}
x=x.join('');d.innerHTML=x;var spans=d.getElementsByTagName('span');for(var i=0;i<spans.length;i++){if(spans[i].getAttribute('name')=='ensScript'){var s=scripts.shift();s=s.replace(/\<\/script\>/i,'');s=s.split('>');var attr=s[0].split(' ');var script=document.createElement('script');for(var j=1;j<attr.length;j++){attr[j]=attr[j].split('=');var attrName=attr[j].shift();attr[j]=attr[j].join('=');if(attr[j].match(/^(\'|\")/)){var wrapper=attr[j].slice(0,1);attr[j]=attr[j].slice(1,attr[j].length);attr[j]=attr[j].slice(0,attr[j].lastIndexOf(wrapper));}
try{script.setAttribute(attrName,attr[j]);script.text=s[1];}catch(e){console.info('doc.write error::'+e);}}
repSpans.push(spans[i]);repScripts.push(script);}}
for(var i=repSpans.length-1;i>=0;i--){d.replaceChild(repScripts[i],repSpans[i]);}
document.body.appendChild(d);}else{document._write(x);}};Bootstrapper.getElementsByClassName=function(){var root=document,className='',partial=false;for(var i=0;i<arguments.length;i++){if(typeof arguments[i]=='object'){root=arguments[i];}else if(typeof arguments[i]=='string'){className=arguments[i];}else{partial=arguments[i];}}
var elements=root.getElementsByTagName('*');var retElements=[],needle=partial?new RegExp(className):new RegExp('^'+className+'$');for(var i=0;i<elements.length;i++){try{var tempClass=(elements[i].className.toString()||'').split(' ');}catch(e){console.info(elements[i].className);}
for(var j=0;j<tempClass.length;j++){if(tempClass[j].match(needle)){retElements.push(elements[i]);}}}
return retElements;};Bootstrapper.trim=function(str){return str.replace(/^\s\s*/,'').replace(/\s\s*$/,'');};Bootstrapper.fnIsEmpty=function(fn){try{if(fn){var rx=/^function [^(]*\(\)[ ]*{(.*)}$/;var b=rx.exec((fn+'').replace(/\n/g,""))[1];return Bootstrapper.trim(b)==="";}else{return true;}}catch(err){console.info(err);return false;}};Bootstrapper.Cookies=new function(){this.defaultDomain='.'+window.location.hostname.match(/[-\w]+\.(?:[-\w]+\.xn--[-\w]+|[-\w]{3,}|[-\w]+\.[-\w]{2})$/i)[0];this._cookies={};this.build=function(){for(var c=document.cookie.split("; "),a=0;a<c.length;a++)this._cookies[c[a].slice(0,c[a].indexOf("="))]=c[a].slice(c[a].indexOf("=")+1)};this.get=function(c,a,f){this.build();var g=this._cookies[c];if(arguments.length==1)return g;else for(var g=g.split(f||"&"),d=0,b=g.length;d<b;d++)if(g[d].indexOf(a+"=")==0)return g[d].slice((a+"=").length,g[d].length)};this.modCookie=function(c,a,f,g){document.cookie=c+"="+a+(f?";expires="+f:"")+";domain="+(g?g:this.defaultDomain)};this.set=function(c,a,f,g){if(arguments.length==4){for(var d="",b=0;b<a.length;b++)d+=(b!=0?f:"")+a[b].join("=");this.modCookie(c,d,g)}else if(arguments.length==3)if(typeof a=="object")if(typeof f=="object"){d="";for(b=0;b<a.length;b++)d+=(b!=0?"&":"")+a[b].join("=");this.modCookie(c,d,f)}else{d="";for(b=0;b<a.length;b++)d+=(b!=0?f:"")+a[b].join("=");this.modCookie(c,d)}else this.modCookie(c,a,f);else if(typeof a=="object"){d="";for(b=0;b<a.length;b++)d+=(b!=0?"&":"")+a[b].join("=");this.modCookie(c,d)}else this.modCookie(c,a)};this.addValue=function(c,a,f,g){this.build();var d=this._cookies[c]||"";if(arguments.length==4){for(var b="",e=0;e<a.length;e++)b+=(d==""&&e==0?"":f)+a[e].join("=");this.modCookie(c,d+b,g)}else if(arguments.length==3)if(typeof a=="object")if(typeof f=="object"){b="";for(e=0;e<a.length;e++)b+=(d==""&&e==0?"":"&")+a[e].join("=");this.modCookie(c,d+b,f)}else{b="";for(e=0;e<a.length;e++)b+=(d==""&&e==0?"":f)+a[e].join("=");this.modCookie(c,d+b)}else this.modCookie(c,d+a,f);else if(typeof a=="object"){b="";for(e=0;e<a.length;e++)b+=(d==""&&e==0?"":"&")+a[e].join("=");this.modCookie(c,d+b)}else this.modCookie(c,d+a)};this.remove=function(c,a){this.build();if(this._cookies[c]){var f=(new Date).toGMTString();this.modCookie(c,"",f,a)}};this.check=function(c,a){this.build();return arguments.length==2?this.get(c).match(a+"=")?!0:!1:this._cookies[c]?!0:!1};this.build()};var TR={};TR.logEnabled=1;TR.logs=[];TR.intervals={};TR.tagEvents={};TR.sync={};TR.tags={};TR.counters={};TR.data={};TR.Ads={};TR.data.ord=Math.random()*10000000000000000;window.WT=window.WT||{};TR.log=function(msgs){TR.logs.push([new Date()].concat(Array.prototype.slice.call(arguments)));if(TR.logEnabled===1){return window.console&&console.log&&Function.apply.call(console.log,console,arguments);}};TR.data.doNotFireTags=false;if(~window.location.pathname.indexOf('videoChannelNarrow')||~window.location.pathname.indexOf('videoTabNarrow')||~window.location.pathname.indexOf('commentsChild')||~window.location.pathname.indexOf('/assets/ticker')||~window.location.pathname.indexOf('/assets/'))
{TR.data.doNotFireTags=true;}
TR.log("TR.data.doNotFireTags = "+TR.data.doNotFireTags);TR.dumpLogs=function(){for(var i=0;i<TR.logs.length;i++){Function.apply.call(console.log,console,TR.logs[i]);}};TR.Ads.createPremiumDFPUrl=function(url){TR.log("createPremiumDFPUrl fired with url: "+url);return url;};TR.writeScript=function(url){document.write('<script type="text/javascript" src="'+url+'"></script>');};TR.checkHosts=function(hosts){for(var i=hosts.length-1;i>=0;i--){if(window.location.hostname.indexOf(hosts[i])>=0){return true;}}
return false;};TR.addEvent=function(name){TR.log("event fired: "+name);TR.tagEvents[name.toLowerCase()]=1;};TR.checkEvents=function(events){for(var i=events.length-1;i>=0;i--){if(TR.tagEvents[events[i].toLowerCase()]!==1){TR.log("event not completed: ",events[i]);return false;}}
TR.log("all events completed: ",events);return true;};TR.checkEvent=function(event){if(TR.tagEvents[event.toLowerCase()]===1){TR.log("event completed: ",event);return true;}};TR.hasTimedOut=function(name,maxIntervals){if(!TR.counters[name]){TR.counters[name]=0;}
if(TR.counters[name]===maxIntervals){TR.addEvent("timeout:"+name);TR.log("timeout:"+name+" after "+maxIntervals+" intervals");return true;}
TR.counters[name]++;return false;};TR.createDFPUrl=function(baseUrl,params){var n_pbt=window.n_pbt||';';var gs=window.gs_channels||';';var np=window.npsegs||';';var cs=TR.data.crowdscience||';';var srnd=TR.data.srnd||';';var seg=window.seg||';';var u=";u=";if(window.wt_fpcCookie){var f=window.wt_fpcCookie;f=f.replace(/\=/g,"_");f=f.replace(/;/g,":");u+=f;}else{u+="NC";}
u+=":trid_"+window.trid;u+=":p_";if(typeof(window.npsegs)!=="undefined"){u+="n";}
if(typeof(TR.data.crowdscience)!=="undefined"){u+="c";}
if(typeof(window.gs_channels)!=="undefined"){u+="g";}
u+=";";params=params||"";var uri=baseUrl+';'+params+n_pbt+srnd+gs+np+cs+seg+u+';ord='+TR.data.ord;if(TR.crtg_content!=null)uri+=';'+TR.crtg_content;uri+='?';uri=uri.replace(/;+/g,";");TR.log("new ad uri: "+uri);return uri;};TR.insertAds=function(baseUrl,ads){function createAd(divId,params){var uri=TR.createDFPUrl(baseUrl,params);return{container:function(){return document.getElementById(divId);},rScript:function(){return uri;}};}
var init=[];for(var i=0;i<ads.length;i++){init.push(createAd(ads[i][0],ads[i][1]));}
TR.log("calling Bootstrapper.adFramework.init with "+init.length+" ads");Bootstrapper.adFramework.init(init);};TR.insertDFP=function(dfpUrl){var finalURL=TR.createDFPUrl(dfpUrl);TR.writeDFPURL(finalURL);};TR.writeDFPURL=function writeDFPURL(finalURL){TR.log("Final DFP URL "+finalURL);finalURL=TR.createYieldFireSwitchURL(finalURL);if(~window.location.pathname.indexOf('slideshow')&&~finalURL.indexOf('type=leaderboard')){TR.log("Calling insert SlideShowDFP");TR.insertSlideShowDFP(finalURL);}
else{TR.log("Calling regular DFP");TR.writeScript(finalURL);}}
TR.createYieldFireSwitchURL=function(finalURL){TR.data.yieldFireSwitchEnabled=true;if(!TR.data.yieldFireSwitchEnabled){TR.log("Yield Fire Switch Not Enabled")
return finalURL;}
TR.log("calling Switch URL");var switchURL=finalURL;var placementId=null;var size=null;if(~finalURL.indexOf('type=leaderboard')){placementId=1140620;size="728x90";}
if(~finalURL.indexOf('type=mpulow')){placementId=1140621;size="300x250";}
if(~finalURL.indexOf('type=mpu')){placementId=1140622;size="300x250";}
TR.log("placement id = "+placementId);if(placementId!==null){TR.log("Creating YieldFire Switch URL for placement id = "+placementId+" . URL = "+finalURL);startIndex=finalURL.indexOf(";type=");if(startIndex>0){finalURL=finalURL.replace(";type=",";anprice={PRICEBUCKET};type=");}
switchURL="http://ib.adnxs.com/ptj?member=1597&id="+placementId+"&size="+size+"&redir="+finalURL;TR.log("Switch URL = "+switchURL);}
return switchURL;};TR.insertSlideShowDFP=function(dfpUrl){TR.log("Inserting SlideShow DFP "+dfpUrl);TR.data.slideShowURL=dfpUrl;TR.data.slideShowDivId="dfp-ad-"+Math.ceil(Math.random()*1000000);document.write("<div id='"+TR.data.slideShowDivId+"'>");TR.writeScript(dfpUrl);document.write("</div>");TR.data.lastChangeTime=new Date().getTime();};TR.data.changeAdCount=0;TR.changeSlideShowAd=function(){TR.data.changeAdCount++;TR.log("changeAdCount Called "+TR.data.changeAdCount);var currentTime=new Date().getTime();if((currentTime-TR.data.lastChangeTime)<TR.data.minChangeInterval)
return;TR.log("changeAdCount Executed "+TR.data.changeAdCount);var newUrl=TR.data.slideShowURL.replace("?","changeAdCount="+TR.data.changeAdCount+"?");TR.data.lastChangeTime=currentTime;TR.insertAds(newUrl,[[TR.data.slideShowDivId,""]]);};TR.insertDFPAsync=function(dfpUrl){var intervalId=dfpUrl;var divId="dfp-ad-"+Math.ceil(Math.random()*1000000);document.write("<div id='"+divId+"'></div>");TR.data.dfpStart=new Date().getTime();function fireDFP(clear){if(clear===true){window.clearInterval(TR.intervals[intervalId]);}
TR.insertAds(dfpUrl,[[divId,""]]);TR.addEvent("completed:dfp");TR.log("elapsed: ",(new Date().getTime()-TR.data.dfpStart)+"ms");}
Bootstrapper.bindDOMParsed(function(){var eventsNeeded=["completed:npario","completed:crowdscience"];if(window.contentType==="articles"||TR.data.contentType==="articles"){eventsNeeded.push("completed:grapeshot");}
if(TR.checkEvents(eventsNeeded)){fireDFP();return;}
TR.intervals[intervalId]=window.setInterval(function(){var fire=false;if(TR.hasTimedOut("dfp",4)){fire=true;}
if(!fire&&TR.checkEvents(eventsNeeded)){fire=true;}
if(fire===true){TR.log("firing dfp");fireDFP(true);}},50);});};1;;Bootstrapper.setCurrentRuleId(8650);callback8650.exec();(window.callback13874=window.callback13874||Bootstrapper.new_fArray()).add(function(){Bootstrapper.setCurrentRuleId(13874);(function(){if(window.contentType==="articles"||TR.data.contentType==="articles"){TR.addEvent("fired:grapeshot");var pageURI=encodeURIComponent?encodeURIComponent(window.location.href):escape(window.location.href);var uri=null;if(TR.checkHosts(['www.reuters.com','preview.us.reuters.com','10.90.22.173']))
{uri='http://reuters.gscontxt.net/Main/channels.cgi?url='+pageURI;}
else if(TR.checkHosts(['uk.reuters.com','preview.uk.reuters.com']))
{uri='http://reuters.grapeshot.co.uk/Main/channels.cgi?url='+pageURI;}
if(!uri)
{TR.addEvent("completed:grapeshot");return;}
if(TR.sync.grapeshot===1){TR.writeScript(uri);TR.addEvent("completed:grapeshot");}else{Bootstrapper.loadScriptCallback(uri,function(){TR.addEvent("completed:grapeshot");});}}})();});try{Bootstrapper.setCurrentRuleId(11925);Bootstrapper.loadScriptAsChildCallback=function(src,callback,node,dedupe){var scripts=document.getElementsByTagName('script'),i,dedupe=dedupe||true;if(dedupe){for(i=0;i<scripts.length;i++){if(scripts[i].src===src&&scripts[i].readyState&&/loaded|complete/.test(scripts[i].readyState)){try{callback();}catch(e){Bootstrapper.reportException(e);}finally{return;}}}}
var newScript=document.createElement('script');newScript.type='text/javascript';newScript.async=true;newScript.src=src;newScript.onerror=function(){if(this.addEventListener)this.readyState='loaded';};newScript.onload=newScript.onreadystatechange=function(){if((!this.readyState||this.readyState==='complete'||this.readyState==='loaded')){this.onload=null;if(this.addEventListener)
this.readyState="loaded";try{callback.call(this);}catch(e){Bootstrapper.reportException(e);}}};node.appendChild(newScript);};TR.replaceOriginalAdDivHTML=false;Bootstrapper.adFramework=function(){var _private={run:function(iArr,id){Bootstrapper.activeId=id;console.info('Starting Ad Framework for call id :'+id);_private.setup();Bootstrapper.adContainers=iArr;Bootstrapper.adTracking=0;Bootstrapper.insertAds=setInterval(function(){try{if(Bootstrapper.adContainers.length==0&&Bootstrapper.adTracking==0){_private.teardown();clearInterval(Bootstrapper.insertAds);return;}
if(Bootstrapper.adTracking==0){TR.replaceOriginalAdDivHTML=true;var inWork=Bootstrapper.adContainers.shift();Bootstrapper.adTarget=inWork.container();var tempheight=Bootstrapper.adTarget.offsetHeight;Bootstrapper.adTarget.innerHTML='';Bootstrapper.adTarget.style.cssText="border:none; height:"+tempheight+"px;";Bootstrapper.adTracking=1;Bootstrapper.loadScriptAsChildCallback(inWork.rScript(),function(){Bootstrapper.adTracking--;TR.replaceOriginalAdDivHTML=false;},Bootstrapper.adTarget);}}catch(e){Bootstrapper.reportException(e);}},100);},setup:function(){oldWrite=document.write;document.write=_private.shim;},teardown:function(){},shim:function(x){console.info('In doc.write, active id 2:'+Bootstrapper.activeId);var x=x.replace(/<script/ig,'<script defer');if(document.getElementById('_ensData')==null){var newDiv=document.createElement('div');newDiv.style.display='none';document.getElementsByTagName('body')[0].appendChild(newDiv);}
var data=document.getElementById('_ensData');var tempDiv=document.createElement('div');tempDiv.innerHTML=x;var scripts=tempDiv.getElementsByTagName('script');var scriptsSrc=[];for(var i=0;i<scripts.length;i++){scriptsSrc.push(scripts[i].src);tempDiv.removeChild(scripts[i]);}
var finaladhtml;if(TR.replaceOriginalAdDivHTML)
finaladhtml=tempDiv.innerHTML;else
finaladhtml=Bootstrapper.adTarget.innerHTML+tempDiv.innerHTML;$('#'+Bootstrapper.adTarget.id).fadeOut("fast",function(){$('#'+Bootstrapper.adTarget.id).html(finaladhtml);$('#'+Bootstrapper.adTarget.id).fadeIn("slow");});for(var i=0;i<scriptsSrc.length;i++){Bootstrapper.adTracking++;Bootstrapper.loadScriptAsChildCallback(scriptsSrc[i],function(){Bootstrapper.adTracking--;},Bootstrapper.adTarget);}
return;},oldWrite:function(){}};var _public={init:function(iArr){var id=Math.random()*10000000000;_private.run(iArr,id);}};return _public;}();;}catch(e){Bootstrapper.reportException(e);}try{Bootstrapper.setCurrentRuleId(12597);for(var i=0;i<1000;i++){var n=11000+i
window['callback'+n]=Bootstrapper.new_fArray();};}catch(e){Bootstrapper.reportException(e);}try{Bootstrapper.setCurrentRuleId(14123);Bootstrapper.getServerComponent=function(){if(TR.data.doNotFireTags)
{return;}
var u=window.location.href;var x=window.location.pathname;if((x.lastIndexOf("/")!=x.length-1)&&!~x.indexOf(".")){u+="/";}
o=window.ensightenOptions;Bootstrapper.insertScript("//"+o.nexus+"/"+o.client+"/serverComponent.php?clientID="+o.clientId+"&PageID="+encodeURIComponent(u));};;}catch(e){Bootstrapper.reportException(e);}try{Bootstrapper.setCurrentRuleId(16453);var COOKIE_SERVER=('https:'==document.location.protocol?'https://':'http://')+'scarf.ensighten.com/',scarfUrl=COOKIE_SERVER+'go?callback=Bootstrapper.setGEO';Bootstrapper.setGEO=function(g){Bootstrapper.GEO=g.ENSIGHTEN_REGION;};Bootstrapper.loadScriptCallback(scarfUrl,function(){try{window.TR=window.TR||{};TR.data=TR.data||{};console.info('Detected Region: '+Bootstrapper.GEO);}catch(e){Bootstrapper.reportException(e);}});;}catch(e){Bootstrapper.reportException(e);}Bootstrapper.globalRuleList='8650;11925;12311;12597;13874;14123;15226;15455;16453;16802;49031;47818;48424;48571;48570';
	Bootstrapper.getServerComponent();
}
